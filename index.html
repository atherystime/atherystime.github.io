<html>
<head>
<!-- Things -->
</head>
<body style="font-family:'Verdana'">
    <p>Current Real Date and Time:</p>
<strong style="font-family:'Lucida Console'"><h3>
    <p id="realTime"></p>
</h3></strong>
<br/>
    <p>Current A'therys Date and Time:</p>
<strong style="font-family:'Lucida Console'"><h3>
    <p id="atherysTime"></p>
</h3></strong>
<br/>
    <p><strong>Note:</strong> the following inputs will not work as they should in Firefox or pre-Edge Internet Explorer.</p>
    <input type="date" id="inputDate" value=""> <input type="time" id="inputTime" value="">
    <button onclick="calcAtherys()">Submit</button>
<strong style="font-family:'Lucida Console'"><h3>
    <p id="userTime"></p>
</h3></strong>
<br/>
<p>Created by Gauth Ironstaff</p>
<script>
function calcAtherys(){
    var inputtedTime = document.getElementById("inputTime").value;
    var inputtedDate = document.getElementById("inputDate").value;
    
    var selectedDate = new Date(inputtedDate + " " + inputtedTime);
    
    var output = "";
    
    var msinY = 10*10*10*24*60*60*1000;
    
    var selYear = selectedDate.getFullYear();
    var msiny;
    if (((selYear % 4 == 0) && (selYear % 100 != 0)) || (selYear % 400 == 0)) {
        msiny = 86400000 * 366;
    } else {
        msiny = 86400000 * 365;
    };
    var startOfYear = new Date(String(selYear)+"-01-01")
    var msty = parseInt(selectedDate.getTime()) - parseInt(startOfYear.getTime());
    var amstY = (msty / msiny) * msinY ;
    var astY = (amstY / 1000) >> 0;
    var amtY = (astY / 60) >> 0;
    var ahtY = (amtY / 60) >> 0;
    var adtY = (ahtY / 24) >> 0;
    var awtY = (adtY / 10) >> 0;
    
    var amonth = (awtY / 10) >> 0;
    var aweek = awtY % 10;
    var amonthDay = adtY % 100;
    var aweekDay = adtY % 10;
    var ahour = ahtY % 24;
    var aminute = amtY % 60;
    var asecond = astY % 60;
    
    var amonths = ["Ascension","Wind's Revival","Forgefire","Sun's Might","Sand's Song","Urth's Heart","Tide's Flux","Stormshift","Frostshroud","Reckoning"];
    var adays = ["Ulvei","Antwei","Toldei","Mirnei","Kultei","Yavhei","Fenyei","Rosnei","Ulmhei","Paartesh"];
    
    var aYear = selectedDate.getFullYear() - 1749;

    var aMonth = amonths[amonth];
    var aDay = adays[aweekDay];
    
    output += aDay + ", " + (amonthDay+1) + " " + aMonth + " " + aYear + " " + ("0" + ahour).slice(-2) + ":" + ("0" + aminute).slice(-2) + ":" + ("0" + asecond).slice(-2);
    document.getElementById("userTime").innerHTML = output;
};
var mainProgram = setInterval(function(){
    var realString = "";
    var atherysString = "";

    var currentTime = new Date();

    var msTotal = currentTime.getTime();
    var sTotal = msTotal/1000;

    var SinY = 10*10*10*24*60*60;
    var MSinY = SinY*1000;

    var realYear = currentTime.getFullYear();

    var msYear;
    if (((realYear % 4 == 0) && (realYear % 100 != 0)) || (realYear % 400 == 0)) {
        msYear = 86400000 * 366;
    } else {
        msYear = 86400000 * 365;
    };
    var startYear = new Date(String(realYear)+"-01-01");
    var msThroughYear = parseInt(selectedDate.getTime()) - parseInt(startYear.getTime());
    var amsThroughYear = (msThroughYear / msYear) * MSinY ;
    var asThroughYear = (amsThroughYear / 1000) >> 0;
    var amThroughYear = (asThroughYear / 60) >> 0;
    var ahThroughYear = (amThroughYear / 60) >> 0;
    var adThroughYear = (ahThroughYear / 24) >> 0;
    var awThroughYear = (adThroughYear / 10) >> 0;

    var month = awThroughYear / 10 >> 0;
    var week = awThroughYear % 10;
    var monthDay = adThroughYear % 100;
    var weekDay = adThroughYear % 10;
    var hour = ahThroughYear % 24;
    var minute = amThroughYear % 60;
    var second = asThroughYear % 60;

    var months = ["Ascension","Wind's Revival","Forgefire","Sun's Might","Sand's Song","Urth's Heart","Tide's Flux","Stormshift","Frostshroud","Reckoning"];
    var days = ["Ulvei","Antwei","Toldei","Mirnei","Kultei","Yavhei","Fenyei","Rosnei","Ulmhei","Paartesh"];

    var atherysYear = currentTime.getFullYear() - 1749;

    var atherysMonth = months[month];
    var atherysDay = days[weekDay];

    realString += currentTime.toUTCString();
    atherysString += atherysDay + ", " + (monthDay+1) + " " + atherysMonth + " " + atherysYear + " " + ("0" + hour).slice(-2) + ":" + ("0" + minute).slice(-2) + ":" + ("0" + second).slice(-2);

    document.getElementById("realTime").innerHTML = realString;
    document.getElementById("atherysTime").innerHTML = atherysString;
}, 50);
</script>
</body>
</html>
